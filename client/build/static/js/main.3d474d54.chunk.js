(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{153:function(e,t,n){},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_TO_ANSWER_QUESTION=t.TOTAL_TIME_PER_QUESTION=void 0;var c=n(204);Object.defineProperty(t,"TOTAL_TIME_PER_QUESTION",{enumerable:!0,get:function(){return c.TOTAL_TIME_PER_QUESTION}}),Object.defineProperty(t,"TIME_TO_ANSWER_QUESTION",{enumerable:!0,get:function(){return c.TIME_TO_ANSWER_QUESTION}})},197:function(e,t,n){},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_TO_ANSWER_QUESTION=t.TOTAL_TIME_PER_QUESTION=void 0,t.TOTAL_TIME_PER_QUESTION=2e4,t.TIME_TO_ANSWER_QUESTION=15e3},209:function(e,t,n){},215:function(e,t,n){},236:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(51),s=n.n(a),o=(n(197),n(11)),i=n(74),u=n(12),l=n(262),j=n(263),d=n(2),b={backgroundColor:"green",border:"solid 2px black"},O={border:"solid 2px black"},x={backgroundColor:"#f2711c",border:"solid 2px black"},h=function(e){var t=e.selectedAnswer,n=e.setSelectedAnswer,c=e.highlightCorrectAnswer,r=e.text;return Object(d.jsx)(l.a,{className:"text-card",textAlign:"center",size:"large",style:c?b:r===t?x:O,onClick:function(){return n&&n(r)},children:Object(d.jsx)(j.a,{as:"h3",children:Object(d.jsx)("p",{children:r})})})},f=n(176),m=n(167),g=function(e){var t=e.progress;return Object(d.jsx)(f.a,{animated:!0,max:m.TIME_TO_ANSWER_QUESTION,min:1e3,now:t})},p=n(178),v=n(72),w=n(261),I=n(255),T=function(e){var t=e.players,n=e.showTopThree,c=void 0!==n&&n,r=function(e){var t="trophy";switch(e){case 0:return Object(d.jsx)(v.a,{color:"yellow",name:t});case 1:return Object(d.jsx)(v.a,{color:"grey",name:t});case 2:return Object(d.jsx)(v.a,{color:"brown",name:t});default:return null}},a=function(){var e=Object(p.a)(t).sort((function(e,t){return e.points>t.points?-1:t.points>e.points?1:0}));return c?e.filter((function(e,t){return t<=2})):e};return Object(d.jsx)(I.a,{style:{paddingTop:"8em"},children:Object(d.jsxs)(w.a,{inverted:!0,padded:!0,size:"large",style:{border:"1px solid whitesmoke"},children:[Object(d.jsx)(w.a.Header,{style:{backgroundColor:"#f2711c"},children:Object(d.jsxs)(w.a.Row,{children:[Object(d.jsx)(w.a.HeaderCell,{children:"Position"}),Object(d.jsx)(w.a.HeaderCell,{children:"Player"}),Object(d.jsx)(w.a.HeaderCell,{children:"Points"})]})}),Object(d.jsx)(w.a.Body,{children:a().map((function(e,t){return Object(d.jsxs)(w.a.Row,{style:{backgroundColor:"black"},children:[Object(d.jsxs)(w.a.Cell,{children:["".concat(t+1,".")," ",r(t)]}),Object(d.jsx)(w.a.Cell,{children:e.nick}),Object(d.jsx)(w.a.Cell,{children:e.points})]},t)}))})]})})},k=function(e){var t=e.currentQuestion,n=e.questionTotal;return Object(d.jsx)(d.Fragment,{children:Array.from(Array(n).keys()).map((function(e){return Object(d.jsx)(v.a,{color:"orange",disabled:e>t,name:"question",size:"big"},e)}))})},C=function(e){var t=e.question;return Object(d.jsx)(l.a,{circular:!0,size:"large",children:Object(d.jsx)(j.a,{as:"h1",children:t||""})})},y=n(265),S=(n(153),n(175)),E=Object(S.a)("",{transports:["websocket"],upgrade:!1,autoConnect:!1,reconnection:!1}),_=function(e){var t,n=e.gameId,r=e.nick,a=e.gameData,s=Object(c.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1];Object(c.useEffect)((function(){E.emit("selected-answer",u,n,r)}));return Object(d.jsxs)(I.a,{children:[Object(d.jsx)(j.a,{as:"h1",content:n,inverted:!0}),Object(d.jsxs)(y.a,{columns:1,className:"game-view-content",container:!0,children:[Object(d.jsx)(y.a.Column,{children:Object(d.jsx)(k,{currentQuestion:a.currentQuestionIndex,questionTotal:a.questionsTotal})}),Object(d.jsx)(y.a.Column,{stretched:!0,children:Object(d.jsx)(C,{question:(null===(t=a.currentQuestion)||void 0===t?void 0:t.question)||""})}),Object(d.jsx)(y.a.Column,{children:function(){var e;return null===a||void 0===a||null===(e=a.currentQuestion)||void 0===e?void 0:e.answers.map((function(e,t){return Object(d.jsx)(y.a.Column,{stretched:!0,columns:1,children:Object(d.jsx)(h,{selectedAnswer:u,setSelectedAnswer:l,text:e,highlightCorrectAnswer:a.showCorrectAnswer&&e===a.currentQuestion.correctAnswer})},t)}))}()}),Object(d.jsx)(y.a.Column,{children:Object(d.jsx)(g,{progress:a.timeLeftToAnswer})})]}),Object(d.jsx)(T,{players:a.players,showTopThree:!0})]})},N=n(240),A=n(258),q=(n(209),function(e){var t=e.gameId,n=e.isHost,c=e.handleStartGame;return Object(d.jsxs)(I.a,{className:"start-game-container",children:[Object(d.jsxs)("div",{className:"text-container",children:[Object(d.jsx)("p",{className:"waiting-text",children:"Waiting for the game to begin"}),Object(d.jsx)("p",{className:"game-id-text",children:t})]}),Object(d.jsxs)("div",{className:"buttons-row",children:[n&&Object(d.jsx)(N.a,{content:"START",size:"big",onClick:c}),Object(d.jsx)(A.a,{content:"Game ID copied",hoverable:!0,size:"large",on:"click",trigger:Object(d.jsx)(N.a,{content:"Copy ID",size:"big",onClick:function(){return navigator.clipboard.writeText(t)}})})]})]})}),Q=function(e){var t=e.gameId,n=e.isHost,r=e.nick,a=Object(c.useState)(),s=Object(o.a)(a,2),i=s[0],l=s[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],x=b[1],h=Object(u.f)();Object(c.useEffect)((function(){E.emit("join-game",r,t,n,(function(e){return e.error&&(alert(e.message),h.replace("/")),function(){x(!1),l(void 0)}}))}),[t,h,n,r]),E.on("game-data",(function(e){return l(e)})),E.once("game-over",(function(e){l(e),x(!0)}));return Object(d.jsx)("div",{children:O?Object(d.jsx)(T,{players:i.players}):i?Object(d.jsx)(_,{gameId:t,nick:r,gameData:i}):Object(d.jsx)(q,{gameId:t,isHost:n,handleStartGame:function(){E.emit("start-game",t)}})})},H=n(256),P=n(257),M=function(e){var t=e.nick,n=e.setGameId,c=e.setIsHost,r=e.setNick,a=Object(u.f)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(H.a,{focus:!0,placeholder:"Username",value:t,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)(P.a,{}),Object(d.jsx)(N.a,{className:"button",content:"HOST",color:"orange",disabled:!t,size:"massive",onClick:function(){E.emit("host-game",(function(e){n(e.gameId),c(!0),r(t),a.push("/game")}))}})]})},z=function(e){var t=e.gameId,n=e.nick,c=e.setGameId,r=e.setIsHost,a=e.setNick,s=Object(u.f)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P.a,{}),Object(d.jsx)(H.a,{focus:!0,placeholder:"Username",value:n,onChange:function(e){return a(e.target.value)}}),Object(d.jsx)(P.a,{}),Object(d.jsx)(H.a,{focus:!0,placeholder:"Game ID",onChange:function(e){return c(e.target.value)}}),Object(d.jsx)(P.a,{}),Object(d.jsx)(N.a,{className:"button",color:"orange",content:"JOIN",disabled:!t||!n,size:"massive",onClick:function(){s.push("/game"),r(!1),a(n)}})]})},F=(n(215),function(e){var t=e.gameId,n=e.nick,r=e.setIsHost,a=e.setGameId,s=e.setNick,i=Object(c.useState)(!1),u=Object(o.a)(i,2),l=u[0],b=u[1],O=Object(c.useState)(!1),x=Object(o.a)(O,2),h=x[0],f=x[1];return Object(d.jsxs)(I.a,{className:"main-menu-content",fluid:!1,textAlign:"center",children:[!l&&!h&&Object(d.jsx)(j.a,{as:"h1",content:"MAIN MENU",color:"orange",size:"huge"}),!h&&Object(d.jsx)(N.a,{className:"button",content:l?"CANCEL":"HOST",size:"massive",onClick:function(){b(!l),a("")}}),l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P.a,{}),Object(d.jsx)(M,{nick:n,setGameId:a,setIsHost:r,setNick:s})]}),!l&&Object(d.jsx)(N.a,{className:"button",content:h?"CANCEL":"JOIN",size:"massive",onClick:function(){return f(!h)}}),h&&Object(d.jsx)(z,{gameId:t,nick:n,setGameId:a,setIsHost:r,setNick:s})]})}),R=n(260),U=function(){var e=Object(c.useState)("home"),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(u.f)(),s=function(e,t){r(e),a.push(t)};return Object(d.jsxs)(R.a,{inverted:!0,fixed:"top",size:"huge",children:[Object(d.jsx)(R.a.Item,{name:"home",active:"home"===n,content:"Home",onClick:function(){return s("home","/")}}),Object(d.jsx)(R.a.Item,{name:"add_question",active:"add_question"===n,content:"Add Question",onClick:function(){return s("add_question","addquestion")}}),Object(d.jsx)(R.a.Item,{name:"browse_questions",active:"browse_questions"===n,content:"Browse questions",style:{color:"#484848"}})]})},G=n(95),L=n.n(G),D=n(127),W=r.a.createContext(""),B=Object(c.createContext)((function(e){})),J=function(){return Object(c.useContext)(B)},K=function(e){var t=e.children,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(d.jsx)(W.Provider,{value:a,children:Object(d.jsx)(B.Provider,{value:function(e){return s(e)},children:t})})},V=n(259),X=n(174),Y=n.n(X),Z=function(){var e=Object(D.a)(L.a.mark((function e(t){var n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y.a.post("api/questions",t),e.next=3,n;case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$={create:Z},ee=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],u=s[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),O=b[0],x=b[1],h=Object(c.useState)(""),f=Object(o.a)(h,2),m=f[0],g=f[1],p=Object(c.useState)(""),v=Object(o.a)(p,2),w=v[0],T=v[1],k=Object(c.useState)("easy"),C=Object(o.a)(k,2),y=C[0],S=C[1],E=Object(c.useState)(""),_=Object(o.a)(E,2),A=_[0],q=_[1],Q=J(),H=function(){var e=Object(D.a)(L.a.mark((function e(t){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={answers:[n,i,O,m],correctAnswer:w,difficulty:y,question:A},e.prev=2,e.next=5,$.create(c);case 5:r(""),u(""),x(""),g(""),S("easy"),T(""),q(""),Q("Question added!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Q("Error on adding question");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),P=[{key:"1",text:"Answer 1",value:n},{key:"2",text:"Answer 2",value:i},{key:"3",text:"Answer 3",value:O},{key:"4",text:"Answer 4",value:m}];return Object(d.jsx)(I.a,{style:{backgroundColor:"#1b1c1d",border:"3px solid #f2711c",position:"relative",top:"5em"},children:Object(d.jsx)(l.a,{inverted:!0,style:{paddingTop:"2em"},children:Object(d.jsxs)(V.a,{inverted:!0,size:"huge",onSubmit:H,children:[Object(d.jsx)(V.a.Field,{control:"textarea",label:"Question",rows:"2",id:"questionInput",value:A,onChange:function(e){return q(e.target.value)}}),Object(d.jsxs)(V.a.Group,{widths:"equal",children:[Object(d.jsx)(V.a.Field,{control:"input",label:"Answer 1",rows:"2",id:"answer1",value:n,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)(V.a.Field,{control:"input",label:"Answer 2",rows:"2",id:"answer2",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(d.jsxs)(V.a.Group,{widths:"equal",children:[Object(d.jsx)(V.a.Field,{control:"input",label:"Answer 3",rows:"2",id:"answer3",value:O,onChange:function(e){return x(e.target.value)}}),Object(d.jsx)(V.a.Field,{control:"input",label:"Answer 4",rows:"2",id:"answer4",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(d.jsxs)(V.a.Group,{style:{paddingTop:"1em"},widths:"equal",children:[Object(d.jsx)(V.a.Select,{rows:"2",label:"Pick correct answer",id:"correctAnswer",options:P,onChange:function(e,t){var n=t.value;return T(n)}}),Object(d.jsx)(V.a.Select,{rows:"2",label:"Pick difficulty",id:"difficulty",options:[{key:"1",text:"Easy",value:"easy"},{key:"2",text:"Medium",value:"medium"},{key:"3",text:"Hard",value:"hard"}],onChange:function(e,t){var n=t.value;return S(n)}})]}),Object(d.jsx)(N.a,{disabled:!Array.of(n,i,O,m).every((function(e){return e.length}))||!y||!A||!w,type:"submit",style:{margin:"1em"},children:"Submit"})]})})})},te=n(147),ne=(n(235),function(){var e=Object(c.useContext)(W),t=J();Object(c.useEffect)((function(){e&&n(e),setTimeout((function(){t("")}),5e3)}));var n=function(e){return te.b.info(e,{style:{border:"1px solid white"}})};return Object(d.jsx)(te.a,{autoClose:3e3,closeOnClick:!0,draggable:!1,hideProgressBar:!0,newestOnTop:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,position:"bottom-center",rtl:!1,theme:"dark"})}),ce=(n(236),n(237),n(238),function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(o.a)(a,2),l=s[0],j=s[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),x=O[0],h=O[1];return Object(c.useEffect)((function(){return E.connect(),function(){E.disconnect()}}),[]),Object(d.jsxs)("div",{id:"app",children:[Object(d.jsxs)(i.a,{children:[Object(d.jsx)(U,{}),Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",children:Object(d.jsx)(F,{gameId:l,nick:n,setNick:r,setGameId:j,setIsHost:h})}),Object(d.jsx)(u.a,{path:"/game",children:Object(d.jsx)(Q,{gameId:l,isHost:x,nick:n})}),Object(d.jsx)(u.a,{path:"/addquestion",children:Object(d.jsx)(ee,{})})]})]}),Object(d.jsx)(ne,{})]})}),re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(K,{children:Object(d.jsx)(ce,{})})}),document.getElementById("root")),re()}},[[239,1,2]]]);
//# sourceMappingURL=main.3d474d54.chunk.js.map